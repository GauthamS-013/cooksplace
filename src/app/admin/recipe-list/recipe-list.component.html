<div class="container-fluid row p-0" style="min-height: 100vh">
  <div
    class="col-md-2 bg-success"
    style="max-height: 100vh; position: sticky; top: 0px"
  >
    <h3 class="text-warning mt-3 text-center">
      <i class="fa-solid fa-user-tie text-light me-2"></i>
      Cooksplace Admin
    </h3>
    <div class="d-flex flex-column h-50 justify-content-between mt-5">
      <a routerLink="/admin" class="text-center text-light sidebar">
        <i class="fa-solid fa-chart-simple me-2"></i>
        Dashboard
      </a>
      <a routerLink="/admin/recipelist" class="text-center text-light sidebar">
        <i class="fa-solid fa-utensils me-2"></i>
        Recipes
      </a>
      <a routerLink="/admin/userlist" class="text-center text-light sidebar">
        <i class="fa-solid fa-users me-2"></i>
        Users
      </a>
      <a
        routerLink="/admin/recipedownloads"
        class="text-center text-light sidebar"
      >
        <i class="fa-solid fa-file-arrow-down me-2"></i>
        Downloads
      </a>
      <a routerLink="/admin/testimonies" class="text-center text-light sidebar">
        <i class="fa-solid fa-comments me-2"></i>
        Testimonies
      </a>
      <button href="" class="text-center text-danger sidebar">
        <i class="fa-solid fa-right-from-bracket me-1"></i>
        Logout
      </button>
    </div>
  </div>
  <div class="col">
    <h2 class="mt-3 fw-bolder">Recipes</h2>
    <div class="d-flex justify-content-between my-3">
      <a routerLink="/admin/addrecipe" class="btn btn-success">Add Recipe +</a>
      <input
        [(ngModel)]="searchKey"
        type="search"
        class="form-control w-50"
        placeholder="Enter recipe name to search"
      />
    </div>
    <table class="table table-bordered mt-4">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Cuisine</th>
          <th>Image</th>
          <th>Meal Type</th>
          <th>...</th>
        </tr>
      </thead>
      <tbody>
        @for(i of recipes | search:searchKey; track $index){
        <tr>
          <td>{{ i.id }}</td>
          <td>{{ i.name }}</td>
          <td>{{ i.cuisine }}</td>
          <td><img src="{{ i.image }}" alt="rec-img" height="120px" /></td>
          <td>{{ i.mealType }}</td>
          <td>
            <div class="d-flex justify-content-evenly">
              <a routerLink="/admin/editrecipe/{{i.id}}" class="btn btn-warning">Edit</a>
              <button (click)="handleDeleteRecipe(i._id)" class="btn btn-danger">Delete</button>
            </div>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>
